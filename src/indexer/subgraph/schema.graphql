type Org @entity {
  id: ID!
  polls: [Poll!]! @derivedFrom(field: "org")
}

type Poll @entity {
  id: ID!
  org: Org!
  title: String!
  description: String!
  options: [String!]!
  tallies: [BigInt!]!
  state: Int!
  admin: Bytes!
  createdAt: BigInt!
  startTime: BigInt!
  endTime: BigInt!
  restricted: Boolean!
  privateMode: Boolean!
  merkleRoot: Bytes!
  votes: [Vote!]! @derivedFrom(field: "poll")
}

type Vote @entity {
  id: ID!
  poll: Poll!
  voter: Bytes!
  optionIndex: Int!
  blockNumber: BigInt!
  timestamp: BigInt!
}
